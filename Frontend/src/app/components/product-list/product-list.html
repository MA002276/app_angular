<div class="container mt-4">
  <h2>Liste des Produits</h2>
  
  <div class="row">
    <div class="col-md-8">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nom</th>
            <th>Description</th>
            <th>Prix</th>
            <th>Quantité</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products">
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.price | currency:' MAD ' }}</td>
            <td>{{ product.quantity }}</td>
            <td>
              <button class="btn btn-info btn-sm me-2" 
                      (click)="selectProduct(product)">
                Modifier
              </button>
              <button class="btn btn-danger btn-sm" 
                      (click)="deleteProduct(product.id!)">
                Supprimer
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      
      <div *ngIf="products.length === 0" class="alert alert-info">
        Aucun produit trouvé. Ajoutez-en un !
      </div>
    </div>
    
    <div class="col-md-4">
      <h4>{{ selectedProduct ? 'Modifier' : 'Ajouter' }} un Produit</h4>
      <app-product-form 
        [product]="selectedProduct"
        (productSaved)="onProductSaved()">
      </app-product-form>
    </div>
  </div>
</div>